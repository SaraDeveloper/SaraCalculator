<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    <title>Simple Calculator</title>
    <!-- Bootstrap 5 CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&display=swap"
      rel="stylesheet"
    />
    <!-- Font Awesome -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
      rel="stylesheet"
    />
    <!-- Custom CSS -->
    <link href="styles.css" rel="stylesheet" />
  </head>
  <body>
    <div class="loading-overlay">
      <div class="loading-emoji">ðŸ˜Š</div>
      <div class="welcome-text">Welcome to Sara Calculator!</div>
    </div>
    <div class="container py-5">
      <div class="row justify-content-center mb-4">
        <div class="col-12 text-center">
          <div class="theme-selector d-flex justify-content-center gap-2" style="margin-bottom: 40px;">
            <div class="theme-option theme-1 active" data-theme="1"></div>
            <div class="theme-option theme-2" data-theme="2"></div>
            <div class="theme-option theme-3" data-theme="3"></div>
            <div class="theme-option theme-4" data-theme="4"></div>
            <div class="theme-option theme-5" data-theme="5"></div>
          </div>
        </div>
      </div>

      <div class="row justify-content-center">
        <div class="col-12 col-md-5 col-lg-4 mb-4 mb-md-0">
          <div class="calculator p-4">
            <div class="persian-cat">
              <img src="assets/happyCat.gif" alt="Cute Persian Cat" />
            </div>
            <div class="row mb-4">
              <div class="col-12">
                <div class="title-container">
                  <h2 class="title">By Sara Robati</h2>
                  <!-- Add History Toggle Button for small screens -->
                  <button
                    class="history-toggle d-md-none"
                    type="button"
                    data-bs-toggle="offcanvas"
                    data-bs-target="#historyOffcanvas"
                  >
                    <i class="fas fa-history"></i>
                  </button>
                </div>
              </div>
            </div>
            <div class="row mb-4">
              <div class="col-12">
                <input type="text" class="display form-control" readonly />
              </div>
            </div>

            <!-- First Row - Updated with PI button -->
            <div class="row g-2 mb-2">
              <div class="col-3">
                <button class="calc-btn clear w-100">C</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100" id="pi-button">PI</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">x<sup>y</sup></button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">Â±</button>
              </div>
            </div>

            <!-- Second Row - Added Root button -->
            <div class="row g-2 mb-2">
              <div class="col-3">
                <button class="calc-btn operator w-100" id="root-button" style="background: red !important; color: white !important; border: 3px solid black !important;">âˆš</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">%</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">Ã·</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">Ã—</button>
              </div>
            </div>

            <!-- Third Row -->
            <div class="row g-2 mb-2">
              <div class="col-3">
                <button class="calc-btn w-100">7</button>
              </div>
              <div class="col-3">
                <button class="calc-btn w-100">8</button>
              </div>
              <div class="col-3">
                <button class="calc-btn w-100">9</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">-</button>
              </div>
            </div>

            <!-- Fourth Row -->
            <div class="row g-2 mb-2">
              <div class="col-3">
                <button class="calc-btn w-100">4</button>
              </div>
              <div class="col-3">
                <button class="calc-btn w-100">5</button>
              </div>
              <div class="col-3">
                <button class="calc-btn w-100">6</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">+</button>
              </div>
            </div>

            <!-- Fifth Row -->
            <div class="row g-2 mb-2">
              <div class="col-3">
                <button class="calc-btn w-100">1</button>
              </div>
              <div class="col-3">
                <button class="calc-btn w-100">2</button>
              </div>
              <div class="col-3">
                <button class="calc-btn w-100">3</button>
              </div>
              <div class="col-3">
                <button class="calc-btn operator w-100">-</button>
              </div>
            </div>

            <!-- Last Row -->
            <div class="row g-2">
              <div class="col-6">
                <button class="calc-btn w-100">0</button>
              </div>
              <div class="col-3">
                <button class="calc-btn w-100">.</button>
              </div>
              <div class="col-3">
                <button class="calc-btn equals w-100">=</button>
              </div>
            </div>
          </div>
        </div>

        <!-- Replace existing history section with offcanvas -->
        <div class="col-md-4 col-lg-3 d-none d-md-block">
          <div class="history-section p-4 h-100">
            <div class="row mb-3">
              <div class="col-12">
                <h3 class="history-title text-center">History</h3>
              </div>
            </div>
            <div class="row mb-3 flex-grow-1">
              <div class="col-12">
                <ul class="history-list p-0"></ul>
              </div>
            </div>
            <div class="row">
              <div class="col-12">
                <button class="btn btn-danger w-100 clear-history">
                  Clear History
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Offcanvas History for small screens -->
        <div
          class="offcanvas offcanvas-end"
          tabindex="-1"
          id="historyOffcanvas"
        >
          <div class="offcanvas-header">
            <h3 class="history-title mb-0">History</h3>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="offcanvas"
              aria-label="Close"
            ></button>
          </div>
          <div class="offcanvas-body">
            <div class="history-section p-0 h-100 border-0">
              <div class="row mb-3 flex-grow-1">
                <div class="col-12">
                  <ul class="history-list p-0"></ul>
                </div>
              </div>
              <div class="row">
                <div class="col-12">
                  <button class="btn btn-danger w-100 clear-history">
                    Clear History
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Bootstrap 5 JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="script.js"></script>
  </body>
</html>
